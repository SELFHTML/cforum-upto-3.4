<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">

<html>
<head>
<title>SELFHTML Forum: Doku: &Uuml;bersicht</title>

<meta name="description"    content="Die Doku des neuen SELFHTML Forums" />
<meta name="keywords"       content="SELFHTML Forum, Doku, Dokumentation" />
<meta name="author"         content="Christian Kruse, ckruse@wwwtech.de" />
<meta name="DC.Publisher"   content="Christian Kruse, ckruse@wwwtech.de" />
<meta name="DC.Date"        content="2002-04-08T16:46+02:00" />
<meta name="DC.Identifier"  content="---" />
<meta name="DC.Language"    content="de" />
<meta name="DC.Rights"      content="" />
<meta name="SELF.Firstdate" content="2002-04-08T16:46+02:00" />
<meta name="SELF.Version"   content="0.01" />
<meta name="SELF.Pagetype"  content="Information" />

<link rel="shortcut icon" href="../src/favicon.ico" />
<link rel="stylesheet" type="text/css" href="../src/forum.css" />

<style type="text/css">
ul.nolist {
  list-style-type:none;
}

li.dir {
  list-style-image:url(../src/x2.gif);
}

li.ok {
  list-style-image:url(../src/xok.gif);
}

li.nf {
  list-style-image:url(../src/xem.gif);
}

li.seite {
  list-style-image:url(../src/x3.gif);
}
</style>

</head>

<body>
<table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr><td bgcolor="#FFEEDD" class="nav"><a class="an" name="top"><img src="../src/x2.gif" width="16" height="13" border="0" alt="Teil von" /></a> <a href="../../"><b>SELFHTML Developer</b></a> <img src="../src/x2.gif" width="16" height="13" border="0" alt="Teil von" /> <a href="../"><b>SELFHTML Forum</b></a></td></tr>
</table>
<table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr><td bgcolor="#EEEEEE" class="doc" width="110"><img src="../src/xweb.gif" width="106" height="109" border="0" alt="SELFHTML" /></td>
<td bgcolor="#EEEEEE" class="doc" valign="bottom" width="100%"><h2>SELFHTML Forum<br />Doku: &Uuml;bersicht</h2></td></tr>
<tr><td bgcolor="#EEEEEE" class="doc" valign="top" align="center"><img src="../src/x5.gif" width="30" height="20" vspace="6" border="0" alt="Informationsseite" /></td>
<td bgcolor="#FFFFFF" valign="top">
<p><img src="../src/xgdown.gif" width="14" height="10" border="0" alt="weiter unten" />&nbsp;<a href="#a1"><b>Scripte und Module</b></a><br />
<img src="../src/xgdown.gif" width="14" height="10" border="0" alt="weiter unten" />&nbsp;<a href="#a2"><b>programmin' style</b></a><br />
<tr><td colspan="2" bgcolor="#EEEEEE" class="doc"><a href="#bottom"><img src="../src/xgdown.gif" width="14" height="10" border="0" alt="nach unten" /></a>&nbsp;</td></tr>
</table>

<h2 class="Sh2"><a class="an" name="a1">Scripte und Module</a></h2>
<ul class="nolist">
 <li class="dir"><b>selfforum/</b> - SELFHTML Forum Projekt-Verzeichnis
  <ul class="nolist">
   <li class="ok"><a href="makefile.html"><b>Makefile</b></a> - Die Makefile</li>
   <li class="dir"><a href="cgi-bin/index.htm"><b>cgi-bin/</b></a> - Das CGI-Verzeichnis
    <ul class="nolist">
     <li class="ok"><b>fo_view</b> - Das Forums-Viewer-Programm</li>
     <li class="ok"><b>fo_server</b> - Das Forums-Server-Programm</li>
     <li class="nf"><b>fo_posting</b> - Das Forums-Posting-Programm</li>
     <li class="ok"><a href="cgi-bin/base.html"><b>base</b></a> - Konfigurations-Datei</li>
    </ul>
   </li>
   <li class="dir"><a href="config/index.htm"><b>config/</b></a> - Konfigurationen
    <ul class="nolist">
     <li class="dir"><a href="config/users/index.htm"><b>users/</b></a> - User-Konfigurationen
      <ul class="nolist">
       <li class="ok"><a href="config/users/ckruse.conf.htm"><b>ckruse.conf</b></a></li>
      </ul>
     </li>
     <li class="ok"><a href="config/fo_default.conf.htm"><b>fo_default.conf</b></a> - Konfigurations-Datei f&uuml;r globale Einstellungen (Sortierung der Nachrichten, Archiver, etc.)</li>
     <li class="ok"><a href="config/fo_view.conf.htm"><b>fo_view.conf</b></a> - Die Konfigurations-Datei f&uuml;r das Forums-Viewer-Programm</li>
     <li class="ok"><b>fo_posting.conf</b> - Die Konfigurations-Datei f&uuml;r das Forums-Posting-Programm</li>
    </ul>
   </li>
   <li class="dir"><b>htdocs/</b> - Das Verzeichnis, dass im WWW erreichbar ist
    <ul class="nolist">
     <li><b>src/</b> - Bilder, Stylesheets, etc.</li>
     <li><b>doku/</b> - Dokumentation</li>
    </ul>
   </li>

   <li class="dir"><a href="src/index.htm"><b>src/</b></a> - Das Verzeichnis mit den Sourcen
    <ul class="nolist">
     <li class="dir">
      <a href="src/modules/index.htm"><b>modules/</b></a>
      <ul class="nolist">
        <li class="ok"><b>flt_basic.c</b></li>
        <li class="ok"><b>flt_category.c</b></li>
        <li class="ok"><b>flt_deleted.c</b></li>
        <li class="ok"><b>flt_dodelete.c</b></li>
        <li class="ok"><b>flt_frameset.c</b></li>
        <li class="ok"><b>flt_listhighlight.c</b></li>
        <li class="ok"><b>flt_openclose.c</b></li>
        <li class="ok"><b>flt_posting.c</b></li>
        <li class="ok"><b>flt_ptree.c</b></li>
        <li class="ok"><b>flt_visited.c</b></li>
      </ul>
     </li>
     <li class="ok"><a href="src/charconvert.html"><b>charconvert.c</b></a> - Character-Konvertierungen</li>
     <li class="ok"><a href="src/charconvert.html"><b>charconvert.h</b></a> - Character-Konvertierungen</li>
     <li class="nf"><b>clientlib.c</b> - Die Client-Bibliothek</li>
     <li class="nf"><b>clientlib.h</b> - Die Client-Bibliothek</li>
     <li class="ok"><a href="src/configparser.html"><b>configparser.c</b></a> - Der Konfigurations-Parser</li>
     <li class="ok"><a href="src/configparser.html"><b>configparser.h</b></a> - Der Konfigurations-Parser</li>
     <li class="ok"><a href="src/defines.html"><b>defines.h</b></a> - Einige Standard-Definitionen</li>
     <li class="ok"><b>fo_server.c</b> - Der Forums-Server</li>
     <li class="ok"><b>fo_server.h</b> - Der Forums-Server</li>
     <li class="ok"><b>fo_view.c</b> - Das Forums-View-Programm</li>
     <li class="ok"><b>fo_view.h</b> - Das Forums-View-programm</li>
     <li class="nf"><b>initfinish.c</b> - Initialisierungs- und Cleanup-Funktionen</li>
     <li class="nf"><b>initfinish.h</b> - Initialisierungs- und Cleanup-Funktionen</li>
     <li class="ok"><a href="src/readline.html"><b>readline.c</b></a> - Netzwerk-Funktionen</li>
     <li class="ok"><a href="src/readline.html"><b>readline.h</b></a> - Netzwerk-Funktionen</li>
     <li class="nf"><b>serverlib.c</b> - Server-Bibliothek</li>
     <li class="nf"><b>serverlib.h</b> - Server-Bibliothek</li>
     <li class="ok"><a href="src/template.html"><b>template.c</b></a> - Template-Library</li>
     <li class="ok"><a href="src/template.html"><b>template.h</b></a> - Template-Library</li>
     <li class="ok"><a href="src/utils.html"><b>utils.c</b></a> - Utilities (z. B. String-Handling)</li>
     <li class="ok"><a href="src/utils.html"><b>utils.h</b></a> - Utilities (z. B. String-Handling)</li>
     <li class="nf"><b>xml_handling.c</b> - XML-Funktionen</li>
     <li class="nf"><b>xml_handling.h</b> - XML-Funktionen</li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td><a href="#top"><img src="../src/xgoup.gif" width="14" height="10" border="0" alt="nach oben" /></a><a href="#bottom"><img src="../src/xgdown.gif" width="14" height="10" border="0" alt="nach unten" /></a>&#160;</td></tr></table>

<h2 class="Sh2"><a class="an" name="a2">programming style</a></h2>
<p>
 Tja, jedes Projekt braucht einen Programmier-Stil. Ich will hier nicht irgendwelche strikten Regeln aufstellen,
 sondern eher ein Ger&uuml;&szlig;t aufstellen, das zu einem sauberen Stil zwingen soll.
</p>

<ul type="disc">
<li>
 den Code bitte <b>sinnvoll</b> kommentieren. Dazu geh&ouml;hrt auch eine Dokumentation von R&uuml;ckgabewert,
 Parametern und Sinn- und Zweck von Funktionen
</li>
<li>die Abschnitte <i>Funktionsweise</i> und <i>History / Status</i> in den Konzeptdateien existieren - bitte mit der Codeentwicklung auf dem Stand halten</li>
<li><b>alle</b> Werte m&uuml;ssen in die Konfigurationen ausgelagert werden!</li>
<li>Ausgabemeldungen (Laufzeitfehler evtl. ausgenommen) geh&ouml;ren in die Templatedateien</li>
<li>Nur wirklich n&ouml;tige Module benutzen. Mit jedem Modul, das benutzt wird, wird hinterher auch die Binary gr&ouml;&szlig;er...</li>
<li>Wenn m&ouml;glich, mit Pointern arbeiten! Das ist zwar etwas nervig, erspart aber die Kopiererei von Werten.</li>
<li>In jedem Programm m&uuml;ssen die Dateien <tt>configparser.h</tt> und <tt>defines.h</tt> eingebunden werden. Auch <tt>stdlib.h</tt> k&ouml;nnte sinnvoll sein.</li>
<li>
 Ich bitte darum, die folgende Reihenfolge bei der Variablen-Deklaration einzuhalten:
 <ol>
  <li>Zuerst sollten die elementaren Datentypen deklariert werden, also z. B. <tt>int</tt>, <tt>char</tt>, etc.</li>
  <li>Dann sollten die erweiterten Datentypen deklariert werden, also s&auml;mtliche <tt>typedef</tt>- und <tt>struct</tt>-Datentypen</li>
  <li>Danach sind die elementaren Datentypen zu initialisieren.</li>
  <li>Und zuletzt sollten die erweiterten Datentypen initialisiert werden.</li>
 </ol>

 Mag sein, dass das unsinnig erscheint, aber das ist einer der Punkte, wo ich einfach sehr empfindlich drauf
 reagiere ;-)
</li>
</ul>

<p>Daraus ergibt sich:</p>

<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
/*
 * Programmname/Dateiname
 * kurze Beschreibung
 *
 * &#36;Header&#36;
 * &#36;Log&#36;
 *
 */

#include &lt;stdlib.h&gt;

#include &quot;configparser.h&quot;
#include &quot;defines.h&quot;

int main(int argc,char *argv[]) {
  GdomeException        exc;
  char                **fnames;
  t_name_value         *irgendwas;
  GdomeImplementation  *imp = gdome_impl_mkref(); /* nicht-elementare initialisierung */

  /* get configuration files */
  fnames = get_conf_file(argv);
  if(!fnames) {
    exit(0); /* configuration files not found */
  }

  /* initialisation */
  init_conf_fo_default(&amp;fo_default_conf);
  init_conf_fo_programm(&amp;fo_programm_conf);

  read_config(fnames[0],default_options);
  read_config(fnames[1],programm_options);

  /* hier der code */


  /* cleanup of the config memory structures */
  cleanup_conf_fo_default(&amp;fo_default_conf);
  cleanup_conf_fo_<i>programm</i>(&amp;fo_programm_conf);

  return EXIT_SUCCESS;
}
</pre></table>

<p>
 Naja. Wenn ich was vergessen hab, ihr kennt meine EMail ;-)
</p>

<table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr><td bgcolor="#EEEEEE" class="doc"><a href="#top"><img src="../src/xgoup.gif" width="14" height="10" border="0" alt="nach oben" /></a></td></tr>
<tr><td bgcolor="#FFEEDD" class="nav"><a class="an"><img src="../src/x2.gif" width="16" height="13" border="0" alt="Teil von" /></a> <a href="../../"><b>SELFHTML Developer</b></a> <img src="../src/x2.gif" width="16" height="13" border="0" alt="Teil von" /> <a href="../"><b>SELFHTML Forum</b></a></td></tr>
</table>

<p><a class="an" name="bottom">&copy; 2000/2001</a> <img src="../src/xgmail.gif" width="15" height="10" border="0" alt="E-Mail" />&nbsp;<a href="mailto:selfhtml@teamone.de">selfhtml@teamone.de</a> / version 1.0 by <img src="../src/xgmail.gif" width="15" height="10" border="0" alt="E-Mail" />&nbsp;<a href="mailto:ckruse@wwwtech.de">Christian Kruse</a></p>
</body>
</html>

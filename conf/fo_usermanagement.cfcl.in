#
# \file fo_usermanagement.conf
# \author Christian Kruse, <ckruse@wwwtech.de>
#
# The configuration for the user management program
#
# $LastChangedDate$
# $LastChangedRevision$
# $LastChangedBy$
#

AddModule "Plugins::HTTPAuth"
AddModule "Plugins::RegisterName"
AddModule "Plugins::Pathes"

Forum FORUM1 {
  MinLength "UserName" "3"
  MinLength "Password" "3"

  MaxLength "UserName" "15"
  MaxLength "Password" "15"

  Validate "Password" "^[a-zA-Z0-9!\"§$_<>.%&\\\\/()=?-]+$"
  Validate "Password" "\\d"
  Validate "Password" "[a-zA-Z]"

  Validate "UserName" "^[\\da-z]+$"
  Validate "email" "email"

  ManagementEngine "Plugins::Management::SQL"

  ActivateModules "unregister,register,changepw,sendpw"

  # This means: for files 0644 and for directories 0755
  Umask "0022"

  SQLUserTable "cforum_users"
  SQLUserColumn "uname"
  SQLPasswdColumn "password"
  SQLEmailColumn "email"
  SQLUser "forum"
  SQLPass "9489500"
  SQLDatabase "forum_users"
  SQLHost "localhost"
  SQLPort "3360"
  SQLDriver "Pg"

  SMTPHost "localhost"
  SMTPFrom "cforum@wwwtech.de"

  Register "@sysconfdir@/cforum/templates/forum1/%s_%s_userregister.so"
  RegisterOk "@sysconfdir@/cforum/templates/forum1/%s_%s_userregok.so"

  ChangePass "@sysconfdir@/cforum/templates/forum1/%s_%s_chpass.so"
  ChangePassOk "@sysconfdir@/cforum/templates/forum1/%s_%s_chpassok.so"

  ChangeMail "@sysconfdir@/cforum/templates/forum1/%s_%s_chmail.so"
  ChangeMailOk "@sysconfdir@/cforum/templates/forum1/%s_%s_chmailok.so"

  Unregister "@sysconfdir@/cforum/templates/forum1/%s_%s_unreg.so"
  UnregisterOk "@sysconfdir@/cforum/templates/forum1/%s_%s_unregok.so"

  SendPass "@sysconfdir@/cforum/templates/forum1/%s_%s_sendpass.so"
  SendPassOk "@sysconfdir@/cforum/templates/forum1/%s_%s_sendpassok.so"
  
  FatalTemplate "@sysconfdir@/cforum/templates/forum1/%s_%s_fatal.so"
}

